[buildout]
extends =
    base.cfg
    sources.cfg

develop = .

parts +=
    test
    robot


eggs +=
    plone.reload
    Products.PDBDebugMode
    Products.DocFinderTab
    Products.ExternalEditor
    aws.zope2zcmldoc
    collective.profiler
    iw.debug
    ipdb
    collective.ckeditor
    imio.pm.locales
    imio.pm.wsclient
    Products.urban
    liege.urban
    plone.app.referenceintegrity
    imio.urban.dataimport
    imio.schedule


test-eggs =
    Liege.urban.dataimport [develop,test]


# =========================
# Develop external packages
# =========================
extensions += mr.developer
sources = sources
sources-dir = devel
always-checkout = force
auto-checkout +=
    imio.pm.locales
    imio.pm.wsclient
    Products.urban
    liege.urban
    plone.app.referenceintegrity
    imio.urban.dataimport
    imio.schedule


[test]
recipe = zc.recipe.testrunner
defaults = ['-s', '${buildout:package-name}', '--auto-color', '--auto-progress']
eggs =
    ${buildout:package-name} ${buildout:package-extras}
    ${buildout:test-eggs}


[robot]
recipe = zc.recipe.egg
eggs =
    Pillow
    ${test:eggs}
    plone.app.robotframework[ride,reload]
